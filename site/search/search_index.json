{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"How to use your FLEx database to create a digital grammar","text":"<p>Cite as:</p> <pre><code>Matter, Florian. 2022. How to use your FLEx database to create a digital grammar. https://github.com/fmatter/flex-grammar-tutorial/releases/tag/v0.0.2\n</code></pre> <p>The goal of this tutorial is to showcase a workflow that starts with a glossed corpus from FLEx and creates a web app serving an interactive digital grammar. It can be divided into three distinct steps:</p> <ol> <li>convert FLEx exports to a CLDF corpus dataset with <code>cldflex</code></li> <li>write linguistic description in a <code>pylingdocs</code> project</li> <li>set up and serve a <code>clld</code> database using this template</li> </ol> <p>Requirements</p> <ul> <li>knowledge prerequisites: command line literacy (this tutorial by Johannes Englisch or this LaunchSchool book may help)</li> <li>software prerequisites:<ul> <li>a working python 3.7+ installation</li> <li>git</li> <li>system-specific:<ul> <li>macOS: Xcode Command Line Tools (<code>xcode-select --install</code>)</li> <li>windows: ?</li> <li>Linux: you should be fine</li> </ul> </li> <li>optional: Pandoc if you want to use <code>pylingdocs</code> for output formats other than a CLLD app</li> </ul> </li> </ul> <p>Running into problems?</p> <ol> <li>please check first if your case is covered in common problems. If this does not solve your problem, continue.</li> <li>if it's evident that the error comes from one of the used python packages (cldflex, pylingdocs, indicogram): click the respective link and open an issue. Otherwise, continue.</li> <li>open an issue here.</li> </ol>"},{"location":"#0-preliminaries","title":"0 Preliminaries","text":"<p>It is highly recommended that you create a virtual environment and then run all parts of this tutorial in that environment:</p> <pre><code>python -m venv env\nsource env/bin/activate\n</code></pre>"},{"location":"#1-workflow","title":"1 Workflow","text":"<p>Note: the Makefile contains a list of command definitions. Where applicable, steps below will have an <code>make X</code> instruction in parentheses.</p>"},{"location":"#12-export-your-flex-data","title":"1.2 Export your FLEx data","text":"<ol> <li>export your FLEx text database as <code>.flextext</code> (into this folder)</li> <li>export your FLEx lexicon as <code>.lift</code> (into this folder)</li> </ol> <p>If you just want to see the demo \ud83d\udd25right now\ud83d\udd25: run <code>make all</code> and visit <code>localhost:6543</code> in your webbrowser.</p> <p>(If you don't have usable FLEx data, the <code>cldflex</code> repo contains example flextext and lift files that you can use [<code>make demofiles</code>])</p>"},{"location":"#13-set-up-software-dependencies","title":"1.3 Set up software dependencies","text":"<p>Install the python packages needed for the next two steps (<code>make install</code>):</p> <pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"#14-set-up-the-glottolog-catalog","title":"1.4 Set up the glottolog catalog","text":"<p>If you want to follow this tutorial to the letter, you will need to download the glottolog catalog with <code>cldfbench</code> so that language metadata can be looked up. To do so, run the following command and say <code>y</code> to installing the glottolog catalog (<code>make glottolog</code>). <code>cldfbench</code> will tell you where the catalog is stored so you can delete it if you don't want to keep it.</p> <pre><code>cldfbench catconfig\n</code></pre> <p>Alternatively, you can provide a <code>languages.csv</code> file to <code>cldflex</code> (minimal example).</p>"},{"location":"#15-create-a-cldf-version-of-your-corpus","title":"1.5 Create a CLDF version of your corpus","text":"<p>Next, use <code>cldflex</code> to transform the contents of your <code>.flextext</code> and <code>.lift</code> files to a CLDF dataset (<code>make cldflex</code>):<sup>1</sup></p> <pre><code>`cldflex flex2csv &lt;filename&gt;.flextext --lexicon &lt;filename&gt;.lift --cldf`\n</code></pre> <p>Note that you can also create a CLDF dataset in some other way, e.g. by using <code>cldfbench</code>, or you can work with an existing dataset.</p>"},{"location":"#16-create-a-pylingdocs-project-based-on-that-cldf-dataset","title":"1.6 Create a pylingdocs project based on that CLDF dataset","text":"<ol> <li>create a pylingdocs project (the Makefile looks for an ID ending in <code>grammar</code>!)</li> </ol> <p><pre><code>pylingdocs new\n</code></pre> You will be asked some project setup prompts; the crucial one asks for the location of your CLDF dataset. If you followed the instructions so far, the default (<code>cldf/metadata.json</code>) should work; otherwise, enter the path to your dataset.</p> <ol> <li>(optional) write stuff! (how to use pylingdocs)</li> <li>create another CLDF dataset combining data and description (<code>make pylingdocs</code>):</li> </ol> <pre><code>cd your-grammar; pylingdocs cldf\n</code></pre>"},{"location":"#17-set-up-a-clld-app","title":"1.7 Set up a CLLD app","text":"<ol> <li>fork, clone or download this repo into this folder and install it (<code>make indicogram</code> does both):</li> </ol> <pre><code>pip install -e indicogram\n</code></pre> <ol> <li>build the <code>clld</code> database and serve it (<code>make clld</code>):</li> </ol> <pre><code>cd indicogram\nclld initdb development.ini --cldf ../your-grammar/output/cldf/metadata.json\npserve --reload development.ini\n</code></pre> <ol> <li>view the app in your webbroser at <code>localhost:6543</code></li> </ol>"},{"location":"#2-faq","title":"2 FAQ","text":""},{"location":"#3-common-problems","title":"3 Common problems","text":"<p>Problems will be listed here.</p> <ol> <li> <p>Depending on the setup of your FLEx database, this will throw all sorts of warnings at you and complain about inconsistencies. You can fix them in your database, but things should largely work even if you ignore them. If you think a particular warning is inaccurate, open an issue here.\u00a0\u21a9</p> </li> </ol>"}]}